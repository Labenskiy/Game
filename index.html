<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–∞–π–Ω—ã–π –°–∞–Ω—Ç–∞ | –ö–∏–Ω–æ-–∫–ª—É–± "–û–¥–∏—Å—Å–µ—è"</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<header>
    <h1>–¢–∞–π–Ω—ã–π –°–∞–Ω—Ç–∞</h1>
    <h2>–ö–∏–Ω–æ-–∫–ª—É–± "–û–¥–∏—Å—Å–µ—è"</h2>
    <nav id="user-nav" class="hidden">
        <button onclick="showParticipants()">–£—á–∞—Å—Ç–Ω–∏–∫–∏</button>
        <button onclick="showRules()">–ü—Ä–∞–≤–∏–ª–∞</button>
        <button onclick="logout()">–í—ã–π—Ç–∏</button>
    </nav>
</header>

<div id="auth-container" class="auth-container">
    <div id="login-form" class="auth-form">
        <h2>–í—Ö–æ–¥</h2>
        <input type="text" id="login-username" placeholder="–õ–æ–≥–∏–Ω" required>
        <input type="password" id="login-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
        <button onclick="login()">–í–æ–π—Ç–∏</button>
        <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="showRegistration()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
    </div>

    <div id="register-form" class="auth-form hidden">
        <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
        <input type="text" id="reg-username" placeholder="–õ–æ–≥–∏–Ω" required>
        <input type="password" id="reg-password" placeholder="–ü–∞—Ä–æ–ª—å" required>
        <button onclick="showAdditionalInfo()">–î–∞–ª–µ–µ</button>
        <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="showLogin()">–í–æ–π—Ç–∏</a></p>
    </div>

    <div id="additional-info" class="auth-form hidden">
        <h2>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
        <textarea id="wishlist" placeholder="–ß—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤ –ø–æ–¥–∞—Ä–æ–∫?" required></textarea>
        <input type="url" id="gift-link" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –∂–µ–ª–∞–µ–º—ã–π –ø–æ–¥–∞—Ä–æ–∫">
        <input type="file" id="avatar" accept="image/*">
        <button onclick="register()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
    </div>
</div>

<div id="main-content" class="container hidden">
    <div id="user-info"></div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ –æ–∫–Ω–æ -->
    <div id="info-window">
        <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¢–∞–π–Ω–æ–º –°–∞–Ω—Ç–µ</h2>
        <div id="countdown">
            –î–æ –Ω–∞—á–∞–ª–∞ –¢–∞–π–Ω–æ–≥–æ –°–∞–Ω—Ç—ã –æ—Å—Ç–∞–ª–æ—Å—å: <span id="time-left"></span>
        </div>
        <div class="instructions">
            <h3>–ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</h3>
            <ol>
                <li>–ö–∞–∂–¥—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—è –ø–æ–¥–∞—Ä–∫–∞.</li>
                <li>–ü–æ–¥–∞—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—ã–º.</li>
                <li>–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥–∞—Ä–∫–∞: 300-1500 —Ä—É–±–ª–µ–π.</li>
                <li>–ü–æ–¥–∞—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫—É–ø–ª–µ–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –¥–æ 25 –¥–µ–∫–∞–±—Ä—è.</li>
                <li>–ó–∞–ø—Ä–µ—â–µ–Ω—ã –¥–µ–Ω–µ–∂–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã.</li>
            </ol>
        </div>
    </div>

    <!-- –°–µ–∫—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ -->
    <div id="participants-section" class="hidden">
        <h2>–£—á–∞—Å—Ç–Ω–∏–∫–∏ –∏–≥—Ä—ã</h2>
        <div id="participants-list" class="participants-grid"></div>
    </div>

    <!-- –°–µ–∫—Ü–∏—è –ø—Ä–∞–≤–∏–ª -->
    <div id="rules-section" class="hidden">
        <h2>–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã "–¢–∞–π–Ω—ã–π –°–∞–Ω—Ç–∞"</h2>
        <!-- –ü—Ä–∞–≤–∏–ª–∞ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∑–¥–µ—Å—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ -->
    </div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª—É–±–µ -->
    <div id="club-info">
        <h2>–û –∫–∏–Ω–æ-–∫–ª—É–±–µ "–û–¥–∏—Å—Å–µ—è"</h2>
        <p>–ö–∏–Ω–æ-–∫–ª—É–± "–û–¥–∏—Å—Å–µ—è" - –º–µ—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∏ –Ω–∞—Å—Ç–æ—è—â–∏—Ö –∫–∏–Ω–æ–º–∞–Ω–æ–≤!</p>
        <p>–ú—ã –ø—Ä–æ–≤–æ–¥–∏–º –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã –∏ –æ–±—Å—É–∂–¥–µ–Ω–∏—è —Ñ–∏–ª—å–º–æ–≤.</p>

        <!-- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã:</h3>
        <ul class="contact-info">
            <li>üìç –ê–¥—Ä–µ—Å: –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ö–∏–Ω–æ–º–∞–Ω–æ–≤, –¥. 10</li>
            <li>üìû –¢–µ–ª–µ—Ñ–æ–Ω: +7 (495) 123-45-67</li>
            <li>‚úâÔ∏è Email: odyssey.cinema@mail.ru</li>
            <li>üåê –°–∞–π—Ç: www.odyssey-cinema.ru</li>
        </ul>

        <!-- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ -->
        <div class="social-links">
            <a href="#" class="social-icon">Instagram</a>
            <a href="#" class="social-icon">Telegram</a>
            <a href="#" class="social-icon">VK</a>
        </div>
    </div>

</div>

<!-- –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —á–∞—Ç–∞ –≤ –Ω–∏–∂–Ω–∏–π —É–≥–æ–ª -->
<div id="chat">
    <!-- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª–∞—Å—Å –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç hidden -->
    <h3>–ß–∞—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</h3>
    <div id="chat-messages"></div>
    <input type="text" id="chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ">
    <button onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
</div>

<script src="./code.js"></script>

<script>
    // JavaScript –∫–æ–¥ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

    async function register() {
        const username = document.getElementById('reg-username').value;
        const password = document.getElementById('reg-password').value; // –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–æ–ª—å
        const wishlist = document.getElementById('wishlist').value;

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
        await fetch('/register', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ username, password, wishlist }), // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–∞—Ä–æ–ª—å —Ç–æ–∂–µ
        });

        showMainContent();
    }

    async function loadParticipants() {
        const response = await fetch('/participants');
        const participants = await response.json();

        const participantsList = document.getElementById('participants-list');
        participantsList.innerHTML = ''; // –û—á–∏—Å—Ç–∫–∞ —Å–ø–∏—Å–∫–∞

        participants.forEach(participant => {
            const participantCard = document.createElement('div');
            participantCard.classList.add('participant-card');
            participantCard.innerHTML = `
           <h3>${participant.username}</h3>
           <p>–í–∏—à–ª–∏—Å—Ç: ${participant.wishlist}</p>`;
            participantsList.appendChild(participantCard);
        });
    }

    // –í—ã–∑—ã–≤–∞–π—Ç–µ loadParticipants() –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    document.addEventListener("DOMContentLoaded", loadParticipants);
</script>

</body>
</html>

